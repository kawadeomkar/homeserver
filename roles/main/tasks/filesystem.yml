- name: Create container services directories
  ansible.builtin.file:
    path: "{{ item }}"
    state: directory
    recurse: true
  loop:
    - /opt/hass
    - /opt/portainer
    - /opt/jellyfin/config
    - /opt/jellyfin/data
    - /opt/sonarr/config
    - /opt/sonarr/downloads
    - /opt/sonarr/tv
    - /opt/radarr/config
    - /opt/radarr/downloads
    - /opt/radarr/movies
    - /opt/prowlarr/config
    - /opt/jellyseerr/config
    - /opt/nextcloud/db
    - /opt/nextcloud/server
    - /opt/homarr/configs
    - /opt/homarr/icons
    - /opt/dashy/item-icons
    - /opt/grafana/storage

- name: Ensure container service files exist
  ansible.builtin.copy:
    content: ""
    dest: "{{ item }}"
    force: false
    group: sys
    owner: root
    mode: 0555
  loop:
    - /opt/dashy/config.yml